*-----------------------------------------------------------------------------** Graph real GDP in different downturns                                       **-----------------------------------------------------------------------------*#delimit ;version 10.1 ;cd "/Users/rwe2/Documents/BYU Economics/Data/EmpRecessComp/" ;capture log close ;log using EmpRecessComp, replace ;set more off ;clear ;set memory 20m ;*---------------------------------------------------------------------------- ;* Get data ;insheet datetextmth empmth using PAYEMS2014-01.csv, comma names clear ;label variable empmth "U.S. nonfarm payroll employment (monthly)" ;label variable datetextmth "Date (text format)" ;gen double datemth = date(datetextmth,"MDY", 2013) ;label variable datemth "Date" ;format datemth %tdCCYY!-Mon!-DD ;order datetextmth datemth empmth ;tsset datemth, daily ;sort datemth ;gen mthdata = 1 ;tempfile empmthfile ;save `empmthfile', replace ;insheet datetextann empann using EmpNonFarmAnn.txt, comma names clear ;label variable empann "U.S. nonfarm payroll employment (annual)" ;label variable datetextann "Date (text format)" ;gen double dateann = date(datetextann,"YMD", 1945) ;label variable dateann "Date" ;format dateann %tdCCYY!-Mon!-DD ;order datetextann dateann empann ;tsset dateann, daily ;sort dateann ;gen anndata = 1 ;append using `empmthfile' ;*---------------------------------------------------------------------------- ;* Generate some new variables ;gen int  yearann  = year(dateann) ;gen int  yearmth  = year(datemth) ;gen byte monthann = month(dateann) ;gen byte monthmth = month(datemth) ;gen byte quarterann = quarter(dateann) ;gen byte quartermth = quarter(datemth) ;label variable yearann "Year" ;label variable yearmth "Year" ;label variable monthann "Month" ;label variable monthmth "Month" ;label variable quarterann "Quarter" ;label variable quartermth "Quarter" ;generate periodann = _n if anndata == 1 ;generate periodmth = _n if mthdata == 1 ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 1, the Great Depression  (Aug 1929-March 1933) ;local recnum = 1 ;*graph twoway line empann dateann if dateann >= mdy(8,1,1927) &   dateann <= mdy(3,31,1933) ;sum empann if dateann >= mdy(8,1,1927) & dateann <= mdy(3,31,1933) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodann if empann == `rec`recnum'max' & dateann >= mdy(8,1,1927) &   dateann <= mdy(3,31,1933) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum dateann if periodann == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if dateann >= `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empannrec`recnum' = empann/`rec`recnum'max' if dateann >=   `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;label variable empannrec`recnum' "1929-1933" ;gen comprecper`recnum' =  dateann - `zero`recnum'perdate' if dateann >=   `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 2 (May 1937-Jun 1938) ;local recnum = 2 ;*graph twoway line empann dateann if dateann >= mdy(1,1,1936) &   dateann <= mdy(1,1,1938) ;sum empann if dateann >= mdy(1,1,1936) & dateann <= mdy(1,1,1938) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodann if empann == `rec`recnum'max' & dateann >= mdy(1,1,1936) &   dateann <= mdy(1,1,1938) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum dateann if periodann == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if dateann >= `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empannrec`recnum' = empann/`rec`recnum'max' if dateann >=   `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;label variable empannrec`recnum' "1935-1941" ;gen comprecper`recnum' =  dateann - `zero`recnum'perdate' if dateann >=   `rec`recnum'firstperdate' & dateann <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 3 (Feb 1945-Oct 1945) ;local recnum = 3 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1943) &   datemth <= mdy(4,1,1946) ;sum empmth if datemth >= mdy(1,1,1943) & datemth <= mdy(4,1,1945) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1943) &   datemth <= mdy(4,1,1945) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1943-1949" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 4 (Nov 1948-Oct 1949) ;local recnum = 4 ;*graph twoway line empmth datemth if datemth >= mdy(4,1,1948) &   datemth <= mdy(1,1,1949) ;sum empmth if datemth >= mdy(4,1,1948) & datemth <= mdy(1,1,1949) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(5,1,1948) &   datemth <= mdy(1,1,1949) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1946-1952" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 5 (Jul 1953-May 1954) ;local recnum = 5 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1953) &   datemth <= mdy(6,1,1954) ;sum empmth if datemth >= mdy(1,1,1953) & datemth <= mdy(6,1,1954) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1953) &   datemth <= mdy(6,1,1954) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1951-1957" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 6 (Aug 1957-Apr 1958) ;local recnum = 6 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1957) &   datemth <= mdy(1,1,1958) ;sum empmth if datemth >= mdy(1,1,1957) & datemth <= mdy(1,1,1958) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1957) &   datemth <= mdy(1,1,1958) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1955-1961" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 7 (Apr 1960-Feb 1961) ;local recnum = 7 ;*graph twoway line empmth datemth if datemth >= mdy(6,1,1959) &   datemth <= mdy(1,1,1961) ;sum empmth if datemth >= mdy(6,1,1959) & datemth <= mdy(1,1,1961) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(6,1,1959) &   datemth <= mdy(1,1,1961) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1958-1964" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 8 (Dec 1969-Nov 1970) ;local recnum = 8 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1969) &   datemth <= mdy(1,1,1971) ;sum empmth if datemth >= mdy(1,1,1969) & datemth <= mdy(1,1,1971) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1969) &   datemth <= mdy(1,1,1971) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1967-1973" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 9 (Nov 1973-Mar 1975) ;local recnum = 9 ;*graph twoway line empmth datemth if datemth >= mdy(7,1,1973) &   datemth <= mdy(1,1,1975) ;sum empmth if datemth >= mdy(7,1,1973) & datemth <= mdy(1,1,1975) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(7,1,1973) &   datemth <= mdy(1,1,1975) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1971-1977" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 10 (Jan 1980-Jul 1980) ;local recnum = 10 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1979) &   datemth <= mdy(7,1,1980) ;sum empmth if datemth >= mdy(1,1,1979) & datemth <= mdy(7,1,1980) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1979) &   datemth <= mdy(7,1,1980) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1978-1984" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 11 (Jul 1981-Nov1982) ;local recnum = 11 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1981) &   datemth <= mdy(1,1,1982) ;sum empmth if datemth >= mdy(1,1,1981) & datemth <= mdy(1,1,1982) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1981) &   datemth <= mdy(1,1,1982) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1979-1985" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 12 (Jul 1990-Mar 1991) ;local recnum = 12 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,1989) &   datemth <= mdy(1,1,1991) ;sum empmth if datemth >= mdy(1,1,1989) & datemth <= mdy(1,1,1991) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,1989) &   datemth <= mdy(1,1,1991) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 11 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1989-1995" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 13 (Mar 2001-Nov 2001) ;local recnum = 13 ;*graph twoway line empmth datemth if datemth >= mdy(1,1,2001) &   datemth <= mdy(7,1,2001) ;sum empmth if datemth >= mdy(1,1,2001) & datemth <= mdy(7,1,2001) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(1,1,2001) &   datemth <= mdy(7,1,2001) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "1997-2003" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;*---------------------------------------------------------------------------- ;* Create normalized peak series for Recession 14 (Dec 2007- Jun 2009) ;local recnum = 14 ;*graph twoway line empmth datemth if datemth >= mdy(12,1,2005) &   datemth <= mdy(7,31,2009) ;sum empmth if datemth >= mdy(12,1,2005) & datemth <= mdy(7,31,2009) ;local rec`recnum'max = r(max) ;display `rec`recnum'max' ;sum periodmth if empmth == `rec`recnum'max' & datemth >= mdy(12,1,2005) &   datemth <= mdy(7,31,2009) ;local zero`recnum'per = r(min) ;display `zero`recnum'per' ;sum datemth if periodmth == `zero`recnum'per' ;local zero`recnum'perdate = r(mean) ;local rec`recnum'firstperdate = `zero`recnum'perdate' - (365*2) - 10 ;local rec`recnum'lastperdate  = `zero`recnum'perdate' + (365*6) + 10 ;*count ;*local newobs = r(N) + 1 ;*set obs `newobs' ;*replace datemth = `rec`recnum'lastperdate' if _n == `newobs' ;count if datemth >= `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;local rec`recnum'pers = r(N) ;gen empmthrec`recnum' = empmth/`rec`recnum'max' if datemth >=   `rec`recnum'firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable empmthrec`recnum' "2005-2011" ;gen comprecper`recnum' =  datemth - `zero`recnum'perdate' if datemth >=   `rec14firstperdate' & datemth <= `rec`recnum'lastperdate' ;label variable comprecper`recnum' "Days from peak" ;save EmpRecessComp, replace ;*---------------------------------------------------------------------------- ;* Create normalized peak plot of DJIA for all recessions since the Great  Depression ;graph twoway   (line empannrec1  comprecper1  if dateann >= `rec1firstperdate'  &   dateann <= `rec1lastperdate', lwidth(vthick) lcolor(black))   (line empannrec2  comprecper2  if dateann >= `rec2firstperdate'  &   dateann <= `rec2lastperdate')   (line empmthrec3  comprecper3  if datemth >= `rec3firstperdate'  &   datemth <= `rec3lastperdate')   (line empmthrec4  comprecper4  if datemth >= `rec4firstperdate'  &   datemth <= `rec4lastperdate')   (line empmthrec5  comprecper5  if datemth >= `rec5firstperdate'  &   datemth <= `rec5lastperdate')   (line empmthrec6  comprecper6  if datemth >= `rec6firstperdate'  &   datemth <= `rec6lastperdate')   (line empmthrec7  comprecper7  if datemth >= `rec7firstperdate'  &   datemth <= `rec7lastperdate')   (line empmthrec8  comprecper8  if datemth >= `rec8firstperdate'  &   datemth <= `rec8lastperdate')   (line empmthrec9  comprecper9  if datemth >= `rec9firstperdate'  &   datemth <= `rec9lastperdate')   (line empmthrec10 comprecper10 if datemth >= `rec10firstperdate' &   datemth <= `rec10lastperdate')   (line empmthrec11 comprecper11 if datemth >= `rec11firstperdate' &   datemth <= `rec11lastperdate')   (line empmthrec12 comprecper12 if datemth >= `rec12firstperdate' &   datemth <= `rec12lastperdate')   (line empmthrec13 comprecper13 if datemth >= `rec13firstperdate' &   datemth <= `rec13lastperdate')   (line empmthrec14 comprecper14 if datemth >= `rec14firstperdate' &   datemth <= `rec14lastperdate', lwidth(vthick) lcolor(lime)),   title("Normalized Peak Plot") subtitle("Nonfarm Employment during last 14 recessions")   xline(0,lcolor(black) lpattern(dash)) yline(1,lcolor(black) lpattern(dash))   ytitle("Employment/Peak") ylabel(0.80 0.90 1.00 1.10)   xtitle("Time from peak") xlabel(-729 "-2yr" -365 "-1yr" 0 "0" 365 "+1yr"   730 "+2yr" 1095 "+3yr" 1460 "+4yr" 1825 "+5yr" 2190 "+6yr")   legend(cols(1) position(3) symxsize(4) keygap(1) size(small) width(25))   note("Source: Econosseur.com, Federal Reserve Bank of St. Louis FRED data, BLS") ;graph save EmpRecessCompGraph14-01, replace ;graph export EmpRecessCompGraph14-01.pdf, replace ;graph export EmpRecessCompGraph14-01.png, replace ;*---------------------------------------------------------------------------- ;* Closing commands ;log close ;exit ;